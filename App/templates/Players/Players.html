{% extends "Base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block content %}
<style>.container {
    padding: 2rem 0rem;
  }
  
  h4 {
    margin: 2rem 0rem 1rem;
  }
  
  .table-image {
    td, th {
      vertical-align: middle;
    }
  }</style>

<div class="container">
  <div>
    <a type="button" class="btn btn-secondary btn-lg btn-block" href={{url_for('PlayersBP.playeradd')}}><img src="../static/img/plus.svg"></a> 
  </div>  
    <div style="height: 20px;"> </div>
  <div class="row">
    <div class="col-12">
      <table class="table table-bordered">
        <thead>
          <tr>
            {% for header in headings%}
            <th scope="col">{{ header }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for player in data%}
          <tr>
              <td>
                  {{player.name}}
              </td>
              <td>
                  {{player.team}}
              </td>
              <td>
                <button type="button" class="btn btn-success" onclick="Edit('{{player.id}}')">Edit<i class="fas fa-edit"></i></button>
                <form id="Edit{{player.id}}" action="{{ url_for('PlayersBP.playeredit') }}" method="post">
                    <input type="hidden" id="id" name="id" value="{{player.id}}">
                </form>
                <button type="button" class="btn btn-danger" onclick="Del('{{player.id}}')">Delete<i class="far fa-trash-alt"></i></button>
                <form id="Del{{player.id}}" action="{{ url_for('PlayersBP.playerdel') }}" method="post">
                    <input type="hidden" id="id" name="id" value="{{player.id}}">
                </form>
              </td>
          </tr>    
      {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
<script>
    function Del(id){
        document.getElementById('Del'+id).submit()
    }
    function Edit(id){
        document.getElementById('Edit'+id).submit()
    }
</script>
{% endblock %}